<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Captura de reporte parcial - BUWERBUNG</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='estilos.css') }}">
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: #f3f4f6;
        }
        .contenedor {
            max-width: 1100px;
            margin: 30px auto;
            background: #ffffff;
            border-radius: 10px;
            box-shadow: 0 15px 35px rgba(15,23,42,0.18);
            padding: 24px 32px;
        }
        h1 {
            margin-top: 0;
            color: #800020;
            font-size: 1.4rem;
        }
        .subtitulo {
            color: #6b7280;
            font-size: 0.9rem;
        }
        .fila {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            margin-bottom: 12px;
        }
        .campo {
            flex: 1 1 180px;
            min-width: 180px;
            display: flex;
            flex-direction: column;
        }
        label {
            font-size: 0.85rem;
            color: #374151;
            margin-bottom: 4px;
        }
        input[type="text"],
input[type="number"],
select,
textarea {
    padding: 8px 10px;
    border-radius: 6px;
    border: 1px solid #1f2937;
    font-size: 0.9rem;
    background: #020617;   /* fondo oscuro */
    color: #f9fafb;        /* texto claro */
}

/* color del cursor y placeholder para que se vea bien */
input[type="text"]::placeholder,
input[type="number"]::placeholder,
textarea::placeholder {
    color: #9ca3af;
    opacity: 1;
}

textarea {
    min-height: 70px;
    resize: vertical;
}

        .nota {
            font-size: 0.8rem;
            color: #6b7280;
            margin-top: -4px;
            margin-bottom: 10px;
        }
        .botones {
            margin-top: 18px;
        }
        button {
            padding: 8px 18px;
            border-radius: 999px;
            border: none;
            background: #800020;
            color: #ffffff;
            font-weight: bold;
            cursor: pointer;
        }
        button:hover {
            background: #5a0015;
        }
        a.volver {
            margin-left: 10px;
            font-size: 0.85rem;
            text-decoration: none;
            color: #4b5563;
        }
    </style>
</head>
<body>
<div class="contenedor">
    <h1>Captura de reporte parcial</h1>
    <p class="subtitulo">
        Docente: <strong>{{ maestro }}</strong> &nbsp; | &nbsp;
        Aquí registrarás la información que antes llenabas en el formato de Excel.
        Si tienes varios grupos, envía un formulario por cada grupo.
    </p>

    <form action="/maestro/enviar_excel" method="POST">
        <!-- ENCABEZADO GENERAL -->
        <h3>Datos generales</h3>
        <div class="fila">
            <div class="campo">
                <label for="parcial">Parcial</label>
                <input type="text" id="parcial" name="parcial" placeholder="Ej. 2do Parcial" required>
            </div>
            <div class="campo">
                <label for="mes">Mes</label>
                <input type="text" id="mes" name="mes" placeholder="Ej. Octubre" required>
            </div>
            <div class="campo">
                <label for="anio">Año</label>
                <input type="number" id="anio" name="anio" value="2025" required>
            </div>
        </div>

        <!-- DATOS DEL GRUPO (equivalente a la fila del Excel) -->
        <h3>Datos por grupo</h3>
        <div class="fila">
            <div class="campo">
                <label for="grupo">Nomenclatura de grupo</label>
                <input type="text" id="grupo" name="grupo" placeholder="Ej. 3BPV" required>
            </div>
            <div class="campo">
                <label for="asignatura">Asignatura</label>
                <input type="text" id="asignatura" name="asignatura" placeholder="Ej. Emplea / Implementa / Construye" required>
            </div>
            <div class="campo">
                <label for="total_alumnos">Num. total de alumnos que asisten y ausentes</label>
                <input type="number" id="total_alumnos" name="total_alumnos" min="0" required>
            </div>
        </div>

        <div class="fila">
            <div class="campo">
                <label for="alumnos_aprobados"># Alumnos aprobados</label>
                <input type="number" id="alumnos_aprobados" name="alumnos_aprobados" min="0" required>
                <p class="nota">El sistema calculará el % de aprobados.</p>
            </div>
            <div class="campo">
                <label for="alumnos_reprobados"># Alumnos reprobados</label>
                <input type="number" id="alumnos_reprobados" name="alumnos_reprobados" min="0" required>
                <p class="nota">El sistema calculará el % de reprobados.</p>
            </div>
            <div class="campo">
                <label for="promedio_general">Promedio general del grupo</label>
                <input type="text" id="promedio_general" name="promedio_general" placeholder="Ej. 60.8, 73%, Promedio" required>
            </div>
        </div>

        <div class="fila">
            <div class="campo">
                <label for="alumnos_dual">Alumnos DUAL</label>
                <input type="number" id="alumnos_dual" name="alumnos_dual" min="0" value="0" required>
            </div>
            <div class="campo">
                <label for="alumnos_sin_contactar"># Alumnos sin contactar (Ausentismo)</label>
                <input type="number" id="alumnos_sin_contactar" name="alumnos_sin_contactar" min="0" value="0" required>
            </div>
            <div class="campo">
                <label for="total_en_lista">Total de alumnos en LISTA (SISEEMS)</label>
                <input type="number" id="total_en_lista" name="total_en_lista" min="0" required>
            </div>
        </div>

        <div class="fila">
            <div class="campo" style="flex:1 1 100%;">
                <label for="acciones_sin_contactar">Acciones realizadas con alumnos sin contactar</label>
                <textarea id="acciones_sin_contactar" name="acciones_sin_contactar"
                          placeholder="Describe brevemente las acciones realizadas: llamadas, mensajes, canalización, etc."></textarea>
            </div>
        </div>

        <div class="botones">
            <button type="submit">Guardar reporte</button>
            <a href="/maestro" class="volver">← Volver al menú del maestro</a>
        </div>
    </form>
</div>
</body>
</html>
